local Players = game:GetService("Players")
local RunService = game:GetService("RunService")
local TweenService = game:GetService("TweenService")
local UserInputService = game:GetService("UserInputService")
local CollectionService = game:GetService("CollectionService")
local Workspace = game:GetService("Workspace")
local player = Players.LocalPlayer

local ScreenGui = Instance.new("ScreenGui")
ScreenGui.Parent = player:WaitForChild("PlayerGui")
ScreenGui.ResetOnSpawn = false

local LoadingFrame = Instance.new("Frame")
LoadingFrame.Size = UDim2.fromScale(1,1)
LoadingFrame.BackgroundColor3 = Color3.fromRGB(5,5,12)
LoadingFrame.BackgroundTransparency = 0
LoadingFrame.Parent = ScreenGui

local LoadingCorner = Instance.new("UICorner")
LoadingCorner.CornerRadius = UDim.new(0,0)
LoadingCorner.Parent = LoadingFrame

local Glow = Instance.new("Frame")
Glow.Size = UDim2.fromScale(1.5,1.5)
Glow.Position = UDim2.fromScale(0.5,0.5)
Glow.AnchorPoint = Vector2.new(0.5,0.5)
Glow.BackgroundColor3 = Color3.fromRGB(170,0,255)
Glow.BackgroundTransparency = 1
Glow.Parent = LoadingFrame

local GlowGrad = Instance.new("UIGradient")
GlowGrad.Color = ColorSequence.new{
    ColorSequenceKeypoint.new(0, Color3.fromRGB(170,0,255)),
    ColorSequenceKeypoint.new(0.5, Color3.fromRGB(100,0,200)),
    ColorSequenceKeypoint.new(1, Color3.fromRGB(170,0,255))
}
GlowGrad.Rotation = 45
GlowGrad.Parent = Glow

local GlowStroke = Instance.new("UIStroke")
GlowStroke.Color = Color3.fromRGB(170,0,255)
GlowStroke.Thickness = 20
GlowStroke.Transparency = 0.6
GlowStroke.ApplyStrokeMode = Enum.ApplyStrokeMode.Border
GlowStroke.Parent = Glow

local LockIcon = Instance.new("ImageLabel")
LockIcon.Size = UDim2.fromOffset(120,120)
LockIcon.Position = UDim2.new(0.5,0,0.4,0)
LockIcon.AnchorPoint = Vector2.new(0.5,0.5)
LockIcon.BackgroundTransparency = 1
LockIcon.Image = "rbxassetid://6026568230"
LockIcon.ImageColor3 = Color3.fromRGB(170,0,255)
LockIcon.Parent = LoadingFrame

local ShieldIcon = Instance.new("ImageLabel")
ShieldIcon.Size = UDim2.fromOffset(80,80)
ShieldIcon.Position = UDim2.new(0.5,0,0.55,0)
ShieldIcon.AnchorPoint = Vector2.new(0.5,0.5)
ShieldIcon.BackgroundTransparency = 1
ShieldIcon.Image = "rbxassetid://6026568224"
ShieldIcon.ImageColor3 = Color3.fromRGB(100,200,255)
ShieldIcon.Parent = LoadingFrame

local Title = Instance.new("TextLabel")
Title.Text = "Nulux Hub"
Title.Size = UDim2.new(0,500,0,100)
Title.Position = UDim2.new(0.5,0,0.3,0)
Title.AnchorPoint = Vector2.new(0.5,0.5)
Title.BackgroundTransparency = 1
Title.TextColor3 = Color3.fromRGB(245,245,255)
Title.Font = Enum.Font.GothamBlack
Title.TextSize = 60
Title.Parent = LoadingFrame

local Subtitle = Instance.new("TextLabel")
Subtitle.Text = "2025 Premium Edition"
Subtitle.Size = UDim2.new(0,500,0,50)
Subtitle.Position = UDim2.new(0.5,0,0.65,0)
Subtitle.AnchorPoint = Vector2.new(0.5,0.5)
Subtitle.BackgroundTransparency = 1
Subtitle.TextColor3 = Color3.fromRGB(170,0,255)
Subtitle.Font = Enum.Font.GothamBold
Subtitle.TextSize = 32
Subtitle.Parent = LoadingFrame

local Spinner = Instance.new("ImageLabel")
Spinner.Size = UDim2.fromOffset(100,100)
Spinner.Position = UDim2.new(0.5,0,0.8,0)
Spinner.AnchorPoint = Vector2.new(0.5,0.5)
Spinner.BackgroundTransparency = 1
Spinner.Image = "rbxassetid://6034834173"
Spinner.ImageColor3 = Color3.fromRGB(170,0,255)
Spinner.Parent = LoadingFrame

task.spawn(function()
    while LoadingFrame.Parent do
        TweenService:Create(Spinner, TweenInfo.new(3, Enum.EasingStyle.Linear, Enum.EasingDirection.InOut, -1), {Rotation = 360}):Play()
        task.wait()
    end
end)

task.spawn(function()
    while LoadingFrame.Parent do
        TweenService:Create(GlowStroke, TweenInfo.new(2, Enum.EasingStyle.Sine, Enum.EasingDirection.InOut, -1, true), {Transparency = 0.3}):Play()
        task.wait()
    end
end)

task.wait(4)

TweenService:Create(LoadingFrame, TweenInfo.new(1.5, Enum.EasingStyle.Quint), {BackgroundTransparency = 1}):Play()
TweenService:Create(LockIcon, TweenInfo.new(1.5), {ImageTransparency = 1, Position = UDim2.new(0.5,0,0.3,0)}):Play()
TweenService:Create(ShieldIcon, TweenInfo.new(1.5), {ImageTransparency = 1}):Play()
TweenService:Create(Title, TweenInfo.new(1.5), {TextTransparency = 1}):Play()
TweenService:Create(Subtitle, TweenInfo.new(1.5), {TextTransparency = 1}):Play()
TweenService:Create(Spinner, TweenInfo.new(1.5), {ImageTransparency = 1}):Play()
TweenService:Create(Glow, TweenInfo.new(1.5), {BackgroundTransparency = 1}):Play()
task.wait(1.5)
LoadingFrame:Destroy()

local MainFrame = Instance.new("Frame")
MainFrame.Size = UDim2.fromOffset(520, 400)
MainFrame.Position = UDim2.fromScale(0.5, 0.5)
MainFrame.AnchorPoint = Vector2.new(0.5, 0.5)
MainFrame.BackgroundColor3 = Color3.fromRGB(8, 8, 14)
MainFrame.BackgroundTransparency = 0
MainFrame.Parent = ScreenGui

local MainCorner = Instance.new("UICorner")
MainCorner.CornerRadius = UDim.new(0, 16)
MainCorner.Parent = MainFrame

local MainStroke = Instance.new("UIStroke")
MainStroke.Color = Color3.fromRGB(170, 0, 255)
MainStroke.Thickness = 3
MainStroke.Transparency = 0.3
MainStroke.Parent = MainFrame

local TitleBar = Instance.new("Frame")
TitleBar.Size = UDim2.new(1, 0, 0, 55)
TitleBar.BackgroundTransparency = 1
TitleBar.Parent = MainFrame

local Title = Instance.new("TextLabel")
Title.Text = "Nulux Hub ðŸŽ„"
Title.Size = UDim2.new(1, -80, 1, 0)
Title.Position = UDim2.new(0, 20, 0, 0)
Title.BackgroundTransparency = 1
Title.TextColor3 = Color3.fromRGB(245, 245, 255)
Title.Font = Enum.Font.GothamBlack
Title.TextSize = 26
Title.TextXAlignment = Enum.TextXAlignment.Left
Title.Parent = TitleBar

local Credits = Instance.new("TextLabel")
Credits.Text = "Credits: A1q2_ Buffon"
Credits.Size = UDim2.new(0, 180, 0, 25)
Credits.Position = UDim2.new(1, -200, 0, 15)
Credits.BackgroundTransparency = 1
Credits.TextColor3 = Color3.fromRGB(130, 130, 150)
Credits.Font = Enum.Font.Gotham
Credits.TextSize = 14
Credits.Parent = TitleBar

local CloseBtn = Instance.new("TextButton")
CloseBtn.Text = "âœ•"
CloseBtn.Size = UDim2.fromOffset(38, 38)
CloseBtn.Position = UDim2.new(1, -48, 0, 8)
CloseBtn.BackgroundColor3 = Color3.fromRGB(200, 20, 20)
CloseBtn.TextColor3 = Color3.new(1,1,1)
CloseBtn.Font = Enum.Font.GothamBold
CloseBtn.TextSize = 24
CloseBtn.Parent = TitleBar
local CloseCorner = Instance.new("UICorner", CloseBtn)
CloseCorner.CornerRadius = UDim.new(0,10)

local OpenBtn = Instance.new("TextButton")
OpenBtn.Text = "Open Nulux ðŸŽ„"
OpenBtn.Size = UDim2.fromOffset(140, 45)
OpenBtn.Position = UDim2.new(0, 10, 0, 10)
OpenBtn.BackgroundColor3 = Color3.fromRGB(170, 0, 255)
OpenBtn.TextColor3 = Color3.new(1,1,1)
OpenBtn.Font = Enum.Font.GothamBold
OpenBtn.TextSize = 18
OpenBtn.Visible = false
OpenBtn.Parent = ScreenGui
local OpenCorner = Instance.new("UICorner", OpenBtn)
OpenCorner.CornerRadius = UDim.new(0,12)

local PlayerCard = Instance.new("Frame")
PlayerCard.Size = UDim2.new(1, -24, 0, 65)
PlayerCard.Position = UDim2.new(0, 12, 1, -77)
PlayerCard.BackgroundColor3 = Color3.fromRGB(15, 15, 24)
PlayerCard.BackgroundTransparency = 0
PlayerCard.Parent = MainFrame
local CardCorner = Instance.new("UICorner", PlayerCard)
CardCorner.CornerRadius = UDim.new(0,14)
local CardStroke = Instance.new("UIStroke", PlayerCard)
CardStroke.Color = Color3.fromRGB(170, 0, 255)
CardStroke.Thickness = 2
CardStroke.Transparency = 0.5

local Avatar = Instance.new("ImageLabel")
Avatar.Size = UDim2.fromOffset(50, 50)
Avatar.Position = UDim2.new(0, 10, 0.5, 0)
Avatar.AnchorPoint = Vector2.new(0, 0.5)
Avatar.BackgroundTransparency = 1
Avatar.Image = Players:GetUserThumbnailAsync(player.UserId, Enum.ThumbnailType.HeadShot, Enum.ThumbnailSize.Size420x420)
Avatar.Parent = PlayerCard
local AvCorner = Instance.new("UICorner", Avatar)
AvCorner.CornerRadius = UDim.new(1, 0)

local Username = Instance.new("TextLabel")
Username.Text = player.DisplayName .. " (@" .. player.Name .. ")"
Username.Size = UDim2.new(1, -80, 1, 0)
Username.Position = UDim2.new(0, 70, 0, 0)
Username.BackgroundTransparency = 1
Username.TextColor3 = Color3.fromRGB(245, 245, 255)
Username.Font = Enum.Font.GothamBold
Username.TextSize = 19
Username.TextXAlignment = Enum.TextXAlignment.Left
Username.Parent = PlayerCard

local TabContainer = Instance.new("Frame")
TabContainer.Size = UDim2.new(0, 150, 1, -140)
TabContainer.Position = UDim2.new(0, 12, 0, 60)
TabContainer.BackgroundTransparency = 1
TabContainer.Parent = MainFrame

local TabList = Instance.new("UIListLayout")
TabList.Padding = UDim.new(0, 22)
TabList.Parent = TabContainer

local ContentContainer = Instance.new("ScrollingFrame")
ContentContainer.Size = UDim2.new(1, -174, 1, -150)
ContentContainer.Position = UDim2.new(0, 162, 0, 60)
ContentContainer.BackgroundTransparency = 1
ContentContainer.AutomaticCanvasSize = Enum.AutomaticSize.Y
ContentContainer.CanvasSize = UDim2.new(0, 0, 0, 0)
ContentContainer.ScrollBarThickness = 8
ContentContainer.ScrollBarImageColor3 = Color3.fromRGB(170, 0, 255)
ContentContainer.Parent = MainFrame

local Tabs = {}
local Contents = {}
local CurrentTab = nil

local function CreateTab(name, iconId)
    local Btn = Instance.new("TextButton")
    Btn.Size = UDim2.new(1, -10, 0, 52)
    Btn.BackgroundColor3 = Color3.fromRGB(15, 15, 24)
    Btn.BackgroundTransparency = 0
    Btn.Text = ""
    Btn.Parent = TabContainer
    local BtnCorner = Instance.new("UICorner", Btn)
    BtnCorner.CornerRadius = UDim.new(0,14)
    local BtnStroke = Instance.new("UIStroke", Btn)
    BtnStroke.Thickness = 2
    BtnStroke.Transparency = 0.8
    BtnStroke.Color = Color3.fromRGB(60, 60, 80)

    local Icon = Instance.new("ImageLabel")
    Icon.Size = UDim2.fromOffset(32, 32)
    Icon.Position = UDim2.new(0, 14, 0.5, 0)
    Icon.AnchorPoint = Vector2.new(0, 0.5)
    Icon.BackgroundTransparency = 1
    Icon.Image = "rbxassetid://" .. iconId
    Icon.ImageColor3 = Color3.fromRGB(170, 0, 255)
    Icon.Parent = Btn

    local TabName = Instance.new("TextLabel")
    TabName.Text = name
    TabName.Size = UDim2.new(1, -60, 1, 0)
    TabName.Position = UDim2.new(0, 58, 0, 0)
    TabName.BackgroundTransparency = 1
    TabName.TextColor3 = Color3.fromRGB(245, 245, 255)
    TabName.Font = Enum.Font.GothamSemibold
    TabName.TextSize = 17
    TabName.TextXAlignment = Enum.TextXAlignment.Left
    TabName.Parent = Btn

    local Content = Instance.new("Frame")
    Content.Size = UDim2.new(1, 0, 0, 0)
    Content.BackgroundTransparency = 1
    Content.Visible = false
    Content.Parent = ContentContainer
    local List = Instance.new("UIListLayout")
    List.Padding = UDim.new(0, 14)
    List.Parent = Content
    local Pad = Instance.new("UIPadding")
    Pad.PaddingLeft = UDim.new(0, 20)
    Pad.PaddingTop = UDim.new(0, 18)
    Pad.Parent = Content

    table.insert(Tabs, Btn)
    table.insert(Contents, Content)

    Btn.MouseButton1Click:Connect(function()
        if CurrentTab then CurrentTab.Visible = false end
        Content.Visible = true
        CurrentTab = Content
        for _, b in Tabs do
            TweenService:Create(b, TweenInfo.new(0.3), {BackgroundTransparency = 0.6}):Play()
            TweenService:Create(b:FindFirstChildOfClass("UIStroke"), TweenInfo.new(0.3), {Transparency = 0.8}):Play()
        end
        TweenService:Create(Btn, TweenInfo.new(0.3), {BackgroundTransparency = 0}):Play()
        TweenService:Create(BtnStroke, TweenInfo.new(0.3), {Transparency = 0.1, Color = Color3.fromRGB(170, 0, 255)}):Play()
    end)

    return Content
end

local MainTab = CreateTab("Main", 6026568230)
local VisTab = CreateTab("Visuals", 6035047405)
local LocalTab = CreateTab("Local Player", 6031094668)
local GKTab = CreateTab("GK Configs", 6034413275)
local BallTab = CreateTab("Ball Mods", 6034834173)

Tabs[1].BackgroundTransparency = 0
CurrentTab = Contents[1]
Contents[1].Visible = true

local function AddToggle(tab, title, key, iconId)
    local Frame = Instance.new("Frame")
    Frame.Size = UDim2.new(1, 0, 0, 48)
    Frame.BackgroundColor3 = Color3.fromRGB(15, 15, 24)
    Frame.BackgroundTransparency = 0
    Frame.Parent = tab
    local FCorner = Instance.new("UICorner", Frame)
    FCorner.CornerRadius = UDim.new(0, 14)

    local Icon = Instance.new("ImageLabel")
    Icon.Size = UDim2.fromOffset(28, 28)
    Icon.Position = UDim2.new(0, 14, 0.5, 0)
    Icon.AnchorPoint = Vector2.new(0, 0.5)
    Icon.BackgroundTransparency = 1
    Icon.Image = "rbxassetid://" .. iconId
    Icon.ImageColor3 = Color3.fromRGB(245, 245, 255)
    Icon.Parent = Frame

    local Label = Instance.new("TextLabel")
    Label.Text = title
    Label.Size = UDim2.new(0.65, 0, 1, 0)
    Label.Position = UDim2.new(0, 52, 0, 0)
    Label.BackgroundTransparency = 1
    Label.TextColor3 = Color3.fromRGB(245, 245, 255)
    Label.TextXAlignment = Enum.TextXAlignment.Left
    Label.Font = Enum.Font.GothamSemibold
    Label.TextSize = 17
    Label.Parent = Frame

    local Toggle = Instance.new("Frame")
    Toggle.Size = UDim2.fromOffset(60, 30)
    Toggle.Position = UDim2.new(1, -75, 0.5, 0)
    Toggle.AnchorPoint = Vector2.new(1, 0.5)
    Toggle.BackgroundColor3 = _G.settings[key] and Color3.fromRGB(170, 0, 255) or Color3.fromRGB(60, 60, 70)
    Toggle.Parent = Frame
    local TCorner = Instance.new("UICorner", Toggle)
    TCorner.CornerRadius = UDim.new(1, 0)

    local Knob = Instance.new("Frame")
    Knob.Size = UDim2.fromOffset(26, 26)
    Knob.Position = _G.settings[key] and UDim2.new(1, -4, 0.5, 0) or UDim2.new(0, 4, 0.5, 0)
    Knob.AnchorPoint = Vector2.new(_G.settings[key] and 1 or 0, 0.5)
    Knob.BackgroundColor3 = Color3.new(1, 1, 1)
    Knob.Parent = Toggle
    local KCorner = Instance.new("UICorner", Knob)
    KCorner.CornerRadius = UDim.new(1, 0)

    Frame.InputBegan:Connect(function(input)
        if input.UserInputType == Enum.UserInputType.MouseButton1 or input.UserInputType == Enum.UserInputType.Touch then
            _G.settings[key] = not _G.settings[key]
            TweenService:Create(Toggle, TweenInfo.new(0.3, Enum.EasingStyle.Quint), {BackgroundColor3 = _G.settings[key] and Color3.fromRGB(170, 0, 255) or Color3.fromRGB(60, 60, 70)}):Play()
            TweenService:Create(Knob, TweenInfo.new(0.3, Enum.EasingStyle.Quint), {Position = _G.settings[key] and UDim2.new(1, -4, 0.5, 0) or UDim2.new(0, 4, 0.5, 0), AnchorPoint = Vector2.new(_G.settings[key] and 1 or 0, 0.5)}):Play()
        end
    end)
end

local function AddSlider(tab, title, key, min, max, decimal, iconId)
    local Frame = Instance.new("Frame")
    Frame.Size = UDim2.new(1, 0, 0, 74)
    Frame.BackgroundColor3 = Color3.fromRGB(15, 15, 24)
    Frame.BackgroundTransparency = 0
    Frame.Parent = tab
    local FCorner = Instance.new("UICorner", Frame)
    FCorner.CornerRadius = UDim.new(0, 14)

    local Icon = Instance.new("ImageLabel")
    Icon.Size = UDim2.fromOffset(28, 28)
    Icon.Position = UDim2.new(0, 14, 0, 12)
    Icon.BackgroundTransparency = 1
    Icon.Image = "rbxassetid://" .. iconId
    Icon.ImageColor3 = Color3.fromRGB(245, 245, 255)
    Icon.Parent = Frame

    local Label = Instance.new("TextLabel")
    Label.Text = title .. ": " .. string.format(decimal and "%.1f" or "%d", _G.settings[key])
    Label.Size = UDim2.new(1, -50, 0, 30)
    Label.Position = UDim2.new(0, 52, 0, 10)
    Label.BackgroundTransparency = 1
    Label.TextColor3 = Color3.fromRGB(245, 245, 255)
    Label.TextXAlignment = Enum.TextXAlignment.Left
    Label.Font = Enum.Font.GothamBold
    Label.TextSize = 18
    Label.Parent = Frame

    local Bar = Instance.new("Frame")
    Bar.Size = UDim2.new(1, -100, 0, 14)
    Bar.Position = UDim2.new(0, 52, 1, -30)
    Bar.BackgroundColor3 = Color3.fromRGB(10, 10, 18)
    Bar.Parent = Frame
    local BCorner = Instance.new("UICorner", Bar)
    BCorner.CornerRadius = UDim.new(1, 0)

    local Fill = Instance.new("Frame")
    Fill.Size = UDim2.new((_G.settings[key] - min) / (max - min), 0, 1, 0)
    Fill.BackgroundColor3 = Color3.fromRGB(170, 0, 255)
    Fill.Parent = Bar
    local FillGrad = Instance.new("UIGradient")
    FillGrad.Color = ColorSequence.new{ColorSequenceKeypoint.new(0, Color3.fromRGB(170, 0, 255)), ColorSequenceKeypoint.new(1, Color3.fromRGB(220, 100, 255))}
    FillGrad.Parent = Fill
    local FCornerFill = Instance.new("UICorner", Fill)
    FCornerFill.CornerRadius = UDim.new(1, 0)

    local Knob = Instance.new("Frame")
    Knob.Size = UDim2.fromOffset(24, 24)
    Knob.Position = UDim2.new((_G.settings[key] - min) / (max - min), -12, 0.5, 0)
    Knob.AnchorPoint = Vector2.new(0.5, 0.5)
    Knob.BackgroundColor3 = Color3.fromRGB(170, 0, 255)
    Knob.Parent = Bar
    local KCorner = Instance.new("UICorner", Knob)
    KCorner.CornerRadius = UDim.new(1, 0)
    local KStroke = Instance.new("UIStroke", Knob)
    KStroke.Color = Color3.new(1, 1, 1)
    KStroke.Thickness = 3

    local dragging = false
    Frame.InputBegan:Connect(function(input)
        if input.UserInputType == Enum.UserInputType.MouseButton1 or input.UserInputType == Enum.UserInputType.Touch then
            dragging = true
            local rel = math.clamp((input.Position.X - Bar.AbsolutePosition.X) / Bar.AbsoluteSize.X, 0, 1)
            local val = min + (max - min) * rel
            _G.settings[key] = decimal and math.floor(val * 10) / 10 or math.round(val)
            Fill.Size = UDim2.new(rel, 0, 1, 0)
            Knob.Position = UDim2.new(rel, -12, 0.5, 0)
            Label.Text = title .. ": " .. string.format(decimal and "%.1f" or "%d", _G.settings[key])
        end
    end)
    UserInputService.InputChanged:Connect(function(input)
        if dragging and (input.UserInputType == Enum.UserInputType.MouseMovement or input.UserInputType == Enum.UserInputType.Touch) then
            local rel = math.clamp((input.Position.X - Bar.AbsolutePosition.X) / Bar.AbsoluteSize.X, 0, 1)
            local val = min + (max - min) * rel
            _G.settings[key] = decimal and math.floor(val * 10) / 10 or math.round(val)
            Fill.Size = UDim2.new(rel, 0, 1, 0)
            Knob.Position = UDim2.new(rel, -12, 0.5, 0)
            Label.Text = title .. ": " .. string.format(decimal and "%.1f" or "%d", _G.settings[key])
        end
    end)
    UserInputService.InputEnded:Connect(function(input)
        if input.UserInputType == Enum.UserInputType.MouseButton1 or input.UserInputType == Enum.UserInputType.Touch then
            dragging = false
        end
    end)
end

_G.settings = {
    reachOn = false, visOn = false,
    reachX = 30, reachY = 30, reachZ = 30,
    offsetX = 0, offsetY = 0, offsetZ = 0,
    predOn = false, lineThick = 1.5, advPred = false,
    infStamOn = false, alwaysSprintOn = false, antiRagdollOn = false,
    autoCatchOn = false, autoGKReactOn = false, noGKCooldownOn = false,
    diveDist = 120,
    powershotOn = false, infShotChargeOn = false,
    autoTopBinsOn = false, bringBallOn = false, autoGoalFixed = false
}

AddToggle(MainTab, "Standard Reach", "reachOn", 6026568230)
AddToggle(MainTab, "Visualizer", "visOn", 6035047405)
AddSlider(MainTab, "Reach X", "reachX", 1, 150, false, 6031229384)
AddSlider(MainTab, "Reach Y", "reachY", 1, 150, false, 6031229384)
AddSlider(MainTab, "Reach Z", "reachZ", 1, 150, false, 6031229384)
AddSlider(MainTab, "Offset X", "offsetX", -50, 50, false, 6031229384)
AddSlider(MainTab, "Offset Y", "offsetY", -50, 50, false, 6031229384)
AddSlider(MainTab, "Offset Z", "offsetZ", -50, 50, false, 6031229384)

AddToggle(VisTab, "Predictor", "predOn", 6034834173)
AddSlider(VisTab, "Line Thickness", "lineThick", 0.5, 8, true, 6031229384)
AddToggle(VisTab, "Advanced Predictor", "advPred", 6035047405)

AddToggle(LocalTab, "Infinite Stamina", "infStamOn", 6023424278)
AddToggle(LocalTab, "Always Sprint", "alwaysSprintOn", 6031094668)
AddToggle(LocalTab, "Anti Ragdoll", "antiRagdollOn", 6026568230)

AddToggle(GKTab, "Auto Catch V2", "autoCatchOn", 6034413275)
AddToggle(GKTab, "Auto React", "autoGKReactOn", 6034413275)
AddToggle(GKTab, "No Cooldown", "noGKCooldownOn", 6034413275)
AddSlider(GKTab, "Dive Distance", "diveDist", 60, 250, false, 6031229384)

AddToggle(BallTab, "Powershot", "powershotOn", 6034834173)
AddToggle(BallTab, "Inf Charge", "infShotChargeOn", 6034834173)
AddToggle(BallTab, "Auto Top Bins", "autoTopBinsOn", 6034834173)
AddToggle(BallTab, "Ball Magnet", "bringBallOn", 6034834173)
AddToggle(BallTab, "Auto Goal", "autoGoalFixed", 6034834173)

local dragging = false
local dragStart, startPos
TitleBar.InputBegan:Connect(function(input)
    if input.UserInputType == Enum.UserInputType.MouseButton1 or input.UserInputType == Enum.UserInputType.Touch then
        dragging = true
        dragStart = input.Position
        startPos = MainFrame.Position
    end
end)
UserInputService.InputChanged:Connect(function(input)
    if dragging and (input.UserInputType == Enum.UserInputType.MouseMovement or input.UserInputType == Enum.UserInputType.Touch) then
        local delta = input.Position - dragStart
        MainFrame.Position = UDim2.new(startPos.X.Scale, startPos.X.Offset + delta.X, startPos.Y.Scale, startPos.Y.Offset + delta.Y)
    end
end)
UserInputService.InputEnded:Connect(function(input)
    if input.UserInputType == Enum.UserInputType.MouseButton1 or input.UserInputType == Enum.UserInputType.Touch then
        dragging = false
    end
end)

CloseBtn.MouseButton1Click:Connect(function()
    TweenService:Create(MainFrame, TweenInfo.new(0.5, Enum.EasingStyle.Quint), {Position = UDim2.fromScale(0.5, 1.6)}):Play()
    task.wait(0.5)
    MainFrame.Visible = false
    OpenBtn.Visible = true
end)

OpenBtn.MouseButton1Click:Connect(function()
    OpenBtn.Visible = false
    MainFrame.Visible = true
    TweenService:Create(MainFrame, TweenInfo.new(0.8, Enum.EasingStyle.Back), {Position = UDim2.fromScale(0.5, 0.5)}):Play()
end)

pcall(function()
    for _,v in pairs(getgc(true))do 
        if type(v)=="table"and rawget(v,"gkCheck")then 
            local c=debug.getconstants(v.react)
            for i,val in pairs(c)do 
                if val=="ignoreReactDecline"or val=="specialTool"then 
                    debug.setconstant(v.react,i,"ball")
                elseif val=="overlapCheck"then 
                    rawset(v,"check",function()return true end)
                    debug.setconstant(v.react,i,"check")
                end 
            end 
        end 
    end
end)

local char = player.Character or player.CharacterAdded:Wait()
local hum = char:WaitForChild("Humanoid")
local hrp = char:WaitForChild("HumanoidRootPart")

player.CharacterAdded:Connect(function(c)
    char = c
    hum = c:WaitForChild("Humanoid")
    hrp = c:WaitForChild("HumanoidRootPart")
end)

local hitbox = Instance.new("Part")
hitbox.Name = "ReachBox"
hitbox.Anchored = true
hitbox.CanCollide = false
hitbox.Transparency = 1
hitbox.Size = Vector3.new(30,30,30)
hitbox.Parent = Workspace

local sel = Instance.new("SelectionBox")
sel.Adornee = hitbox
sel.Color3 = Color3.fromRGB(0,255,255)
sel.LineThickness = 0.05
sel.Transparency = 0.4
sel.Parent = hitbox

local predLine

local function getBall()
    for _,v in CollectionService:GetTagged("Ball")do 
        if v:IsA("BasePart")then return v end 
    end
    for _,v in Workspace:GetDescendants()do
        if v:IsA("BasePart")and(v.Name:find("Ball")or v.Name:find("Football"))and v.AssemblyLinearVelocity.Magnitude>5 then 
            return v 
        end
    end
end

RunService.Heartbeat:Connect(function()
    if _G.settings.reachOn and hrp then
        hitbox.CFrame = hrp.CFrame * CFrame.new(_G.settings.offsetX, _G.settings.offsetY, _G.settings.offsetZ)
        hitbox.Size = Vector3.new(_G.settings.reachX, _G.settings.reachY, _G.settings.reachZ)
        sel.Transparency = _G.settings.visOn and 0.4 or 1

        local parts = Workspace:GetPartBoundsInBox(hitbox.CFrame, hitbox.Size)
        for _,part in parts do
            if part ~= hitbox and part.Parent ~= char then
                local limbs = {"RightFoot","LeftFoot","Right Leg","Left Leg","RightHand","LeftHand","Head","UpperTorso","LowerTorso","HumanoidRootPart"}
                for _,limbName in limbs do
                    local limb = char:FindFirstChild(limbName)
                    if limb then
                        firetouchinterest(limb, part, 0)
                        firetouchinterest(limb, part, 1)
                    end
                end
            end
        end
    end

    if _G.settings.predOn then
        local ball = getBall()
        if ball and ball.AssemblyLinearVelocity.Magnitude > 5 then
            predLine = Workspace:FindFirstChild("NuluxPred") or Instance.new("Part")
            predLine.Name = "NuluxPred"
            predLine.Anchored = true
            predLine.CanCollide = false
            predLine.Material = Enum.Material.Neon
            predLine.Color = Color3.fromRGB(0,255,255)
            predLine.Parent = Workspace

            local dir = ball.AssemblyLinearVelocity.Unit * 150
            predLine.Size = Vector3.new(_G.settings.lineThick, _G.settings.lineThick, dir.Magnitude)
            predLine.CFrame = CFrame.new(ball.Position, ball.Position + dir) * CFrame.new(0, 0, -dir.Magnitude/2)
        elseif predLine then 
            predLine:Destroy() 
        end
    elseif predLine then 
        predLine:Destroy() 
    end

    if _G.settings.infStamOn then
        spawn(function()
            while _G.settings.infStamOn do
                pcall(function()
                    for _,obj in player:GetDescendants()do
                        if (obj:IsA("NumberValue") or obj:IsA("IntValue") or obj:IsA("DoubleConstrainedValue")) and (obj.Name:lower():find("stam") or obj.Name:lower():find("energ")) then
                            obj.Value = math.huge
                        end
                    end
                end)
                task.wait(0.1)
            end
        end)
    end
end)
